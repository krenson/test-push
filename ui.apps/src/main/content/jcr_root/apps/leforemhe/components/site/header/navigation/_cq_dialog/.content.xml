<?xml version="1.0" encoding="UTF-8" ?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
          xmlns:cq="http://www.day.com/jcr/cq/1.0"
          xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="nt:unstructured" jcr:title="Menu de navigation"
          sling:resourceType="cq/gui/components/authoring/dialog">
    <content jcr:primaryType="nt:unstructured"
             sling:resourceType="granite/ui/components/coral/foundation/container">
        <items jcr:primaryType="nt:unstructured">
            <links jcr:primaryType="nt:unstructured"
                   sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                   composite="{Boolean}true"
                   fieldLabel="Liens"
                   fieldDescription="Éléments de navigation">
                <granite:data
                        jcr:primaryType="nt:unstructured"
                        max-mf-items="4"/>
                <field jcr:primaryType="nt:unstructured"
                       sling:resourceType="granite/ui/components/coral/foundation/container" name="./items">
                    <items jcr:primaryType="nt:unstructured">
                        <item jcr:primaryType="nt:unstructured"
                              sling:resourceType="granite/ui/components/coral/foundation/well">
                            <items jcr:primaryType="nt:unstructured">
                                <linkType jcr:primaryType="nt:unstructured"
                                          sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                          deleteHint="{Boolean}true"
                                          granite:class="cq-dialog-dropdown-showhide-multi"
                                          fieldLabel="Type de lien"
                                          name="./linkType">
                                    <items jcr:primaryType="nt:unstructured">
                                        <internal
                                                jcr:primaryType="nt:unstructured"
                                                text="Lien interne"
                                                selected="{Boolean}true"
                                                value="internal-link"
                                                icon="graphPathing"/>
                                        <external
                                                jcr:primaryType="nt:unstructured"
                                                text="Lien externe"
                                                value="external-link"
                                                icon="globe"/>
                                    </items>
                                    <granite:data
                                            jcr:primaryType="nt:unstructured"
                                            cqdialogdropdownshowhidetarget=".link-type-showhide-target">
                                    </granite:data>
                                </linkType>
                                <internalLink jcr:primaryType="nt:unstructured"
                                              sling:resourceType="granite/ui/components/coral/foundation/container"
                                              margin="{Boolean}true"
                                              granite:class="hide link-type-showhide-target">
                                    <granite:data
                                            jcr:primaryType="nt:unstructured"
                                            showhidetargetvalue="internal-link"/>
                                    <items jcr:primaryType="nt:unstructured">
                                        <internal-label
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                fieldLabel="Libellé"
                                                fieldDescription="Entrer le libellé affiché par ce lien. Laisser vide pour récupérer la propriété sur la page."
                                                name="./internalLabel"/>
                                        <linkReference
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                                                fieldLabel="Lien interne"
                                                fieldDescription="Sélectionner la page vers laquelle ce lien référencera."
                                                name="./internalLinkReference"
                                                rootPath="/content/leforemhe"/>
                                    </items>
                                </internalLink>
                                <externalLink jcr:primaryType="nt:unstructured"
                                              sling:resourceType="granite/ui/components/coral/foundation/container"
                                              margin="{Boolean}true"
                                              granite:class="hide link-type-showhide-target">
                                    <granite:data
                                            jcr:primaryType="nt:unstructured"
                                            showhidetargetvalue="external-link">
                                    </granite:data>
                                    <items jcr:primaryType="nt:unstructured">
                                        <target jcr:primaryType="nt:unstructured"
                                                    sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                    deleteHint="{Boolean}true"
                                                    fieldLabel="Cible"
                                                    name="./target">
                                            <items jcr:primaryType="nt:unstructured">
                                                <blank
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Nouvel onglet"
                                                        selected="{Boolean}true"
                                                        value="_blank"/>
                                                <self
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Même onglet"
                                                        value="_self"/>
                                                <parent
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Cadre parent"
                                                        value="_parent"/>
                                                <top
                                                        jcr:primaryType="nt:unstructured"
                                                        text="Cadre supérieur"
                                                        value="_top"/>
                                            </items>
                                        </target>
                                        <externalLinkTitle
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                fieldLabel="Titre"
                                                fieldDescription="Entrer le titre de ce lien externe."
                                                name="./title"/>
                                        <label
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                fieldLabel="Libellé"
                                                fieldDescription="Entrer le libellé affiché par ce lien."
                                                name="./externalLabel"/>
                                        <linkReference
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                fieldLabel="Lien externe"
                                                fieldDescription="Entrer l'URL de ce lien."
                                                name="./externalLinkReference">
                                            <granite:data
                                                    jcr:primaryType="nt:unstructured"
                                                    should-start-with-http-or-empty="{Boolean}true">
                                            </granite:data>
                                        </linkReference>
                                    </items>
                                </externalLink>
                            </items>
                        </item>
                    </items>
                </field>
            </links>
        </items>
    </content>
</jcr:root>